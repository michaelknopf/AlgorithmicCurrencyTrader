# AlgorithmicCurrencyTrader

This massive Lua script contains a collection of classes that form a trading strategy commonly used by amatuer "day traders", especially in the Forex market.  The strategy itself combines the concepts of "Support and Resistance" and "Trend".  It is based on model where the price of an asset over time is modeled as a series of straight lines with corners that connect - a continuous, piecewise linear graph.  To do this, it uses an iterative method for approximating the continuous, piecewise linear function which minimizes an error function, which takes into account both the size of the lines and their goodness of fit (R^2).  The goal is to strike a balance where the lines fit the data well, but are not so short and plentiful as to overfit it (obviously, we could achieve a perfect fit by creating a new line at every data point).  Once the lines have been fit, the places where they form corners - where downward slopes meet upward slopes - are taken to represent levels of "support and resistance", and the qualities of these levels are used to make decisions about when to buy and sell.  Several different parametrizations of this model were tested.

The script can be imported as a strategy into FXCM's Trading Station platform.  Then, if you so desire, hit run and watch your money disappear.  Just kidding; you might, in fact, make incredible returns.  That is just the issue: according to all the analysis I have done, which was substantial, the strategy has no practical predictive power whatsoever.  After simulating the strategy on around a hundred years worth of price data, and using standard bootstrapping methods, hypothesis tests (and common sense) led to this conclusion.

The fundamental problem is the massive amount of variance present.  Of course, in the "long run", we expect our losses (or gains) to align with the expected value of the underlying distribution.  However, in this case, the "long run" likely means thousands of years of regular trading.  The total lack of bias in the data, in either direction, could also be attributed to an expected value that is very close to zero.  What this means is that, even if the distribution has a positive expected value, it is far lower than the costs even of commission and spread.  The expected gains will be dominated by these supplemental costs, and there is no way in hell that anyone except your broker is going to get rich.

I wrote this program mainly as a fun exercise in machine learning - I had just graduated from college and had a bit of downtime.
